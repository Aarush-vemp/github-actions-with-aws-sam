on:
  push:
    branches: 
      - master
jobs: 
  build-deploy:
    runs-on: ubuntu-latest
    strategy: 
      matrix: 
        node-version: [12.x]
    steps:
      - uses: actions/checkout@v2
      - name: Use Node.js ${{matrix.node-version}}
        uses: actions/setup-node@v1
        with: 
          node-version : ${{matrix.node-version}}
      - run: cd ./directory && npm install
      # - name: Configure AWS Credentials
      #   uses: aws-actions/configure-aws-credentials@v1
      #   with: 
      #     aws-access-key-id: AKIA36UHBMUYRN3RQXPG
      #     aws-secret-access-key: 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
      #     aws-region: us-east-1
      - name: serverless deploy
        uses: serverless/github-action@master
        with: 
          args: -c "cd ./directory && serverless deploy"
          entryPoint: /bin/sh
        env: 
          AWS_ACCESS_KEY_ID: AKIA36UHBMUYQLCBWDAH
          AWS_SECRET_ACCCESS_KEY: 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